# This is a Spack Environment file.
#
# It describes a set of packages to be installed, along with
# configuration settings.
spack:
  config:
    install_tree:
      root: /glade/derecho/scratch/vanderwb/spack-tests/common/24.04/envs/build/opt
      projections:
        all: '{name}/{version}/{hash:4}'
      padded_length: 128
    build_jobs: 4
    test_stage: /glade/derecho/scratch/${user}/temp/spack/common/24.04/tests
    source_cache: /glade/derecho/scratch/${user}/temp/spack/cache
    misc_cache: /glade/derecho/scratch/${user}/temp/spack/common/24.04/misc
    build_stage:
    - /glade/derecho/scratch/${user}/temp/spack/builds
    shared_linking:
      type: rpath
      bind: false
    template_dirs:
    - /glade/derecho/scratch/vanderwb/spack-tests/common/24.04/envs/build/templates/modules
  packages:
    openssl:
      externals:
      - spec: openssl@1.1.1l
        prefix: /usr
      buildable: false
      require:
      - '%gcc@7.5.0'
    pkg-config:
      externals:
      - spec: pkg-config@0.29.2
        prefix: /usr
      buildable: false
      require: '%gcc@7.5.0'
    gcc:
      variants:
      - +piclibs
      - languages=c,c++,fortran,go
      require:
      - '%gcc@7.5.0'
    all:
      compiler: [gcc@7.5.0]
      target: [x86_64_v3]
      providers:
        'pkgconfig:': [pkg-config]
        'zlib-api:': [zlib]
      permissions:
        read: world
        write: user
      prefer:
      - spec: ^zlib
        when: ^zlib-api
      - spec: ^pkg-config
        when: ^pkgconfig
    aocc:
      require:
      - +license-agreed
    cuda:
      require: +allow-unsupported-compilers
      variants:
      - +dev
    patchelf:
      require:
      - '@:0.17'
    linaro-forge:
      require: +accept-eula
    zstd:
      variants:
      - +programs
  compilers:
  - compiler:
      spec: gcc@=7.5.0
      paths:
        cc: /usr/bin/gcc
        cxx: /usr/bin/g++
        f77: /usr/bin/gfortran
        fc: /usr/bin/gfortran
      flags: {}
      operating_system: opensuse15
      target: x86_64
      modules: []
      environment: {}
      extra_rpaths: []
  view: false
  concretizer:
    unify: false
    reuse: false
    os_compatible:
      opensuse15:
      - sles15
      sles15:
      - opensuse15
  repos:
  - $spack/var/spack/repos/ncar.hpcd
  mirrors:
    ncar_mirror_global: https://stratus.ucar.edu/spack-cache-common
    ncar_mirror_local: /glade/derecho/scratch/vanderwb/spack-tests/common/mirror
  specs:
  - nvhpc@24.3
  - cuda@11.8.0
  - cudnn@8.9.7.29-11
  - intel-oneapi-inspector@2024.1.0
  - linaro-forge@23.1.2
  - gcc@13.2.0
  - intel-oneapi-compilers@2024.1.0
